int in1 = 2;
int in2 = 3;
int in3 = 4;
int in4 = 5;

int leftSensor1  = 9;
int leftSensor2  = 10;
int centerSensor = 11;
int rightSensor1 = 12;
int rightSensor2 = 13;

void setup() {

  pinMode(in1, OUTPUT);
  pinMode(in2, OUTPUT);
  pinMode(in3, OUTPUT);
  pinMode(in4, OUTPUT);


  pinMode(leftSensor1, INPUT);
  pinMode(leftSensor2, INPUT);
  pinMode(centerSensor, INPUT);
  pinMode(rightSensor1, INPUT);
  pinMode(rightSensor2, INPUT);

  Serial.begin(9600);
}

void forward() {
  digitalWrite(in1, LOW);
  digitalWrite(in2, HIGH);
  digitalWrite(in3, LOW);
  digitalWrite(in4, HIGH);
}

void left() {
  digitalWrite(in1, LOW);
  digitalWrite(in2, HIGH);
  digitalWrite(in3, HIGH);
  digitalWrite(in4, LOW);
}

void right() {
  digitalWrite(in1, HIGH);
  digitalWrite(in2, LOW);
  digitalWrite(in3, LOW);
  digitalWrite(in4, HIGH);
}

void stopCar() {
  digitalWrite(in1, LOW);
  digitalWrite(in2, LOW);
  digitalWrite(in3, LOW);
  digitalWrite(in4, LOW);
}

void loop() {
  int L1 = digitalRead(leftSensor1);
  int L2 = digitalRead(leftSensor2);
  int C  = digitalRead(centerSensor);
  int R1 = digitalRead(rightSensor1);
  int R2 = digitalRead(rightSensor2);

  Serial.print(L1); Serial.print(" ");
  Serial.print(L2); Serial.print(" ");
  Serial.print(C);  Serial.print(" ");
  Serial.print(R1); Serial.print(" ");
  Serial.println(R2);

  if (C == LOW && L1 == HIGH && L2 == HIGH && R1 == HIGH && R2 == HIGH) {
    forward();
  }

  else if (L1 == LOW || L2 == LOW) {
    left();
  }

  else if (R1 == LOW || R2 == LOW) {
    right();
  }

  else {
    stopCar();  
  }

  delay(10);
}
